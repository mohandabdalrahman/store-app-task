<div class="user-container">
  <h2>{{ 'user.productCategories' | translate }}</h2>

  @if (loading()) {
    <div class="loading-container">
      <mat-spinner></mat-spinner>
    </div>
  }

  @for (category of categories; track category) {
    <div class="category-container">
      <h3>{{ category }}</h3>
      <div class="product-grid">
        @for (product of productsByCategory[category]; track product) {
          <mat-card class="product-card">
            <mat-card-header>
              <mat-card-title>{{ product.title }}</mat-card-title>
            </mat-card-header>
            <img mat-card-image [src]="product.image" alt="Product image">
            <mat-card-content>
              <p>{{ product.description }}</p>
              <p class="price">{{ product.price | currency }}</p>
            </mat-card-content>
            <mat-card-actions>
              <button mat-button color="primary">Add to Cart</button>
            </mat-card-actions>
          </mat-card>
        }
      </div>
    </div>
  }
</div>
